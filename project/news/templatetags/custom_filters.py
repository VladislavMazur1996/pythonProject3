from django import template

register = template.Library()


# Регистрируем наш фильтр под именем currency, чтоб Django понимал,
# что это именно фильтр для шаблонов, а не простая функция.
@register.filter()
def censor(value):
    f_words_list = [
        'блядь',
        'бздун',
        'бзднуть',
        'бздюх',
        'блудилище',
        'выпердеть',
        'высраться',
        'выссаться',
        'говно',
        'говенка',
        'говноед',
        'говномес',
        'говночист',
        'говяга',
        'говнюк',
        'говняный',
        'глиномес',
        'изговнять',
        'гнида',
        'гнидас',
        'гнидазавр',
        'гниданидзе',
        'гондон',
        'гондольер',
        'даун',
        'даунитто',
        'дерьмо',
        'дерьмодемон',
        'дерьмище',
        'дрисня'
        'дрист',
        'дристануть',
        'обдристаться',
        'дерьмак',
        'дристун',
        'дрочить',
        'дрочила',
        'суходрочер',
        'дебил',
        'дебилоид',
        'дрочка',
        'драчун',
        'задрот',
        'дцпшник',
        'елда',
        'елдаклык',
        'елдище',
        'жопа',
        'жопошник',
        'залупа',
        'залупиться',
        'залупинец',
        'засеря',
        'засранец',
        'засрать',
        'защеканец',
        'изговнять',
        'идиот',
        'изосрать',
        'курва',
        'кретин',
        'кретиноид',
        'курвырь',
        'лезбуха',
        'лох',
        'минетчица',
        'мокрощелка',
        'мудак',
        'мудень',
        'мудила',
        'мудозвон',
        'мудацкая',
        'мудасраная',
        'мусор',
        'педрик',
        'пердеж',
        'пердение',
        'пердельник',
        'пердун',
        'пидор',
        'пидорасина',
        'пидорормитна',
        'пидорюга',
        'педерастер',
        'педобратва',
        'писька',
        'писюн',
        'спидозный',
        'ссаная',
        'спидораковый',
        'срать',
        'спермер',
        'спермобак',
        'спермодун',
        'срака',
        'сракаборец',
        'сракалюб',
        'срун',
        'сука',
        'сучара',
        'сучище',
        'титьки',
        'трипер',
        'хер',
        'херня',
        'херовина',
        'хероед',
        'охереть',
        'пошел на хер',
        'хитрожопый',
        'хрен моржовый',
        'шлюха',
        'шлюшидзе',

    ]
    filtered_value = []
    for word in value.split(' '):
        new_word = ''
        punctuation_mark = ''
        for litter in word:
            if litter in ',!?':
                punctuation_mark += litter
            else:
                new_word += litter
        if new_word.lower() in f_words_list:
            filtered_value.append(word[0] + '*' * (len(word) - 1) + punctuation_mark)
        else:
            filtered_value.append(new_word + punctuation_mark)
    value = ' '.join(filtered_value)
    return value
